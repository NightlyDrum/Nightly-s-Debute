local UIManager = {}

function UIManager:CreateUI()
    local ScreenGui = Instance.new("ScreenGui")
    local Container = Instance.new("Frame")
    local Topbar = Instance.new("Frame")
    local Tabs = Instance.new("Frame")
    local TextLabel = Instance.new("TextLabel")
    local Content = Instance.new("Frame")
    local UIListLayout = Instance.new("UIListLayout") -- Organize tabs

    -- Set UI properties
    ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    Container.Name = "Container"
    Container.Parent = ScreenGui
    Container.BackgroundColor3 = Color3.fromRGB(43, 43, 43)
    Container.BorderColor3 = Color3.fromRGB(105, 0, 157)
    Container.Position = UDim2.new(0.0378228799, 0, 0.140287772, 0)
    Container.Size = UDim2.new(0, 747, 0, 383)

    Topbar.Name = "Topbar"
    Topbar.Parent = Container
    Topbar.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
    Topbar.BorderColor3 = Color3.fromRGB(105, 0, 157)
    Topbar.Size = UDim2.new(0, 747, 0, 33)

    Tabs.Name = "Tabs"
    Tabs.Parent = Topbar
    Tabs.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
    Tabs.BorderSizePixel = 0
    Tabs.Size = UDim2.new(1, 0, 1, 33)

    -- Align tabs to the right
    UIListLayout.Parent = Tabs
    UIListLayout.FillDirection = Enum.FillDirection.Horizontal
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Padding = UDim.new(0, 5) -- Adjust padding between tabs
    UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right

    TextLabel.Parent = Topbar
    TextLabel.BackgroundTransparency = 1
    TextLabel.Position = UDim2.new(0.01, 0, 0, 0)
    TextLabel.Size = UDim2.new(0, 124, 0, 33)
    TextLabel.Font = Enum.Font.SourceSans
    TextLabel.Text = "Nightly Debute |"
    TextLabel.TextColor3 = Color3.fromRGB(255, 0, 255)
    TextLabel.TextScaled = true

    Content.Name = "Content"
    Content.Parent = Container
    Content.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Content.BorderColor3 = Color3.fromRGB(105, 0, 157)
    Content.Position = UDim2.new(0, 0, 0.103489168, 0)
    Content.Size = UDim2.new(1, 0, 1, -33)

    self.ScreenGui = ScreenGui
    self.TabsFrame = Tabs
    self.ContentFrame = Content
end

function UIManager:MakeTab(tabConfig)
    local tabName = tabConfig.Name or "Tab"
    local iconId = tabConfig.Icon or ""

    local newTab = Instance.new("TextButton")
    newTab.Name = tabName
    newTab.Parent = self.TabsFrame
    newTab.Size = UDim2.new(0, 90, 1, 0) -- Adjust the width and height of the tabs
    newTab.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
    newTab.BorderColor3 = Color3.fromRGB(105, 0, 157)
    newTab.Font = Enum.Font.SourceSans
    newTab.Text = tabName
    newTab.TextColor3 = Color3.fromRGB(255, 255, 255)
    newTab.TextSize = 12 -- Make the text smaller
    newTab.TextWrapped = true
    newTab.AutoButtonColor = false

    -- Add functionality to switch to tab content
    newTab.MouseButton1Click:Connect(function()
        for _, child in pairs(self.ContentFrame:GetChildren()) do
            child.Visible = false
        end
        local tabContent = self.ContentFrame:FindFirstChild(tabName .. "_Content")
        if tabContent then
            tabContent.Visible = true
        end
    end)

    -- Set up content for the tab
    local tabContent = Instance.new("Frame")
    tabContent.Name = tabName .. "_Content"
    tabContent.Parent = self.ContentFrame
    tabContent.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    tabContent.BorderColor3 = Color3.fromRGB(105, 0, 157)
    tabContent.Size = UDim2.new(1, 0, 1, 0)
    tabContent.Visible = false

    return newTab
end

return UIManager
